/*! angular-fusioncharts - v0.1.0*/

!function(){var a=angular.module("ng-fusioncharts",[]);a.directive("fcChart",["$http",function(){return{scope:{fcWidth:"@",fcHeight:"@",fcDataset:"@",fcCategories:"@",fcChartAttrs:"@"},link:function(a,b,c){var d={},e=Object.keys(c),f=null,g={"*":function(a,b){d.hasOwnProperty(a.eventType)&&d[a.eventType](a,b)}};if(c.fcEvents&&a.$parent[c.fcEvents]){var h=a.$parent[c.fcEvents];for(var i in h)h.hasOwnProperty(i)&&(d[i.toLowerCase()]=h[i])}for(var j=0;j<e.length;j++){var k=e[j];if(k.match(/^on/i)){var i=k.slice(2).toLowerCase();d[i]=a.$parent[c[k]]}}if(c.fcConfig)f=new FusionCharts(a[c.fcConfig]),a[c.fcChartObject]=f,f.render();else{var l={type:c.fcType,width:c.fcWidth,height:c.fcHeight,renderAt:b[0],dataFormat:c.fcDataFormat||"json",dataSource:{},events:g};c.$observe("fcWidth",function(){f.resizeTo(a.fcWidth,a.fcHeight)}),c.$observe("fcHeight",function(){f.resizeTo(a.fcWidth,a.fcHeight)}),c.fcDatasource?(l.dataSource=a[c.fcDatasource],c.$observe("fcDatasource",function(a){"json"===l.dataFormat?f.setChartData(JSON.parse(a)):"xml"===l.dataFormat?f.setXMLData(a):"jsonurl"===l.dataFormat?f.setJSONUrl(a):"xmlurl"===l.dataFormat&&f.setXMLUrl(a)},!0)):(c.$observe("fcChartAttrs",function(a){setTimeout(function(){l.dataSource.chart=JSON.parse(a),f.setJSONData(l.dataSource)},0)},!0),c.fcData&&c.$observe("fcData",function(a){setTimeout(function(){l.dataSource.data=JSON.parse(a),f.setJSONData(l.dataSource)},0)},!0),c.fcCategories&&c.$observe("fcCategories",function(a){setTimeout(function(){l.dataSource.categories=JSON.parse(a),f.setJSONData(l.dataSource)},0)},!0),c.fcDataset&&c.$observe("fcDataset",function(a){setTimeout(function(){l.dataSource.dataset=JSON.parse(a),f.setJSONData(l.dataSource)})},!0));var f=new FusionCharts(l);a[c.fcChartObject]=f,f.render()}}}}])}();